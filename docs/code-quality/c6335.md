---
title: "C6335 | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "C6335"
helpviewer_keywords: 
  - "C6335"
ms.assetid: f81c0859-3d82-4182-8bf1-6c3b76c7486f
caps.latest.revision: 11
caps.handback.revision: 11
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
---
# C6335
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

Advertencia C6335: Controlador de información del proceso con pérdidas \<nombre de identificador\>  
  
 Esta advertencia indica que los identificadores de información de proceso devueltos por la familia de funciones CreateProcess se tienen que cerrar utilizando CloseHandle.  De lo contrario se producirán pérdidas de identificadores.  
  
## Ejemplo  
 El código siguiente genera esta advertencia:  
  
```  
#include <windows.h>  
#include <stdio.h>  
  
void f( )  
{  
    STARTUPINFO si;  
    PROCESS_INFORMATION pi;  
  
    ZeroMemory( &si, sizeof(si) );  
    si.cb = sizeof(si);  
    ZeroMemory( &pi, sizeof(pi) );  
  
    // Start the child process.   
    if( !CreateProcess( "C:\\WINDOWS\\system32\\calc.exe",  
                        NULL,    
                        NULL,               
                        NULL,                
                        FALSE,               
                        0,                   
                        NULL,                
                        NULL,                
                        &si,    // Pointer to STARTUPINFO structure.  
                        &pi ) ) // Pointer to PROCESS_INFORMATION  
  {  
    puts("Error");  
    return;  
  }  
    // Wait until child process exits.  
    WaitForSingleObject( pi.hProcess, INFINITE );  
    CloseHandle( pi.hProcess );  
}  
```  
  
 Para corregir esta advertencia, llame a `CloseHandle (pi.` `hThread)` para cerrar el identificador de subproceso, como se muestra en el código siguiente:  
  
```  
#include <windows.h>  
#include <stdio.h>  
  
void f( )  
{  
    STARTUPINFO si;  
    PROCESS_INFORMATION pi;  
  
    ZeroMemory( &si, sizeof(si) );  
    si.cb = sizeof(si);  
    ZeroMemory( &pi, sizeof(pi) );  
  
    // Start the child process.   
    if( !CreateProcess( "C:\\WINDOWS\\system32\\calc.exe",  
                        NULL,    
                        NULL,               
                        NULL,                
                        FALSE,               
                        0,                   
                        NULL,                
                        NULL,                
                        &si,    // Pointer to STARTUPINFO structure.  
                        &pi ) ) // Pointer to PROCESS_INFORMATION  
    {  
      puts("Error");  
      return;  
    }  
  
    // Wait until child process exits.  
    WaitForSingleObject( pi.hProcess, INFINITE );  
    CloseHandle( pi.hProcess );  
    CloseHandle( pi.hThread );  
}  
```  
  
 Para obtener más información, vea [Función de CreateProcess](http://go.microsoft.com/fwlink/?LinkId=181206) y [Función CloseHandle](http://go.microsoft.com/fwlink/?LinkId=181207).